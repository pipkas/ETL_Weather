### ETL пайплайн

В данном проекте реализовано ETL приложение на Java, которое можно запустить при помощи класса `src/main/java/ETL`.

Данное приложение считывает URL с сайта "https://open-meteo.com", десериализует его в объект WeatherData, преобразует все данные в необходимый формат для записи и помещает данные в виде таблицы в `weather_data.csv` файл и в базу данных в формате двух таблиц `daily_data` и `hourly_data`.

База данных была выбрала postgres и реализована при помощи `docker-compose.yml` и `init.sql` файлов.

***Чтобы создать базу данных нужно:***
- перейти в директорию с проектом, где лежит `docker-compose.yml`
- запустить приложение `docker` (`open -gj -a docker`)
- вписать в терминале `docker-compose up -d` чтобы поднять контейнер

```
название контейнера: weather_postgres
пользователь: pipkas
пароль: labubu
название базы данных: weather_db
```

После успешного создания базы данных можно запустить приложение, 
а так же JUnit тесты при помощи `mvn test`.

Данные в таблицах `daily_data` и `hourly_data` из базы данных можно объединить при помощи SQL запроса 
```
SELECT *
FROM daily_data d
INNER JOIN hourly_data h ON d.local_day = h.local_day;
```
и получить на подобии, что записано в файл `weather_data.csv`.


Ниже представлены обозначения каждого столбца а так же их размерность.

### Средние значения за 24 часа
| Параметр | Описание |
|----------|----------|
| `avg_temperature_2m_24h` | Средняя температура на высоте 2 метров за 24 часа (в °C) |
| `avg_relative_humidity_2m_24h` | Средняя относительная влажность на высоте 2 метров за 24 часа (в %) |
| `avg_dew_point_2m_24h` | Средняя точка росы на высоте 2 метров за 24 часа (в °C) |
| `avg_apparent_temperature_24h` | Средняя кажущаяся температура за 24 часа (в °C) |
| `avg_temperature_80m_24h` | Средняя температура на высоте 80 метров за 24 часа (в °C) |
| `avg_temperature_120m_24h` | Средняя температура на высоте 120 метров за 24 часа (в °C) |
| `avg_wind_speed_10m_24h` | Средняя скорость ветра на высоте 10 метров за 24 часа (в м/с) |
| `avg_wind_speed_80m_24h` | Средняя скорость ветра на высоте 80 метров за 24 часа (в м/с) |
| `avg_visibility_24h` | Средняя видимость за 24 часа (в метрах) |
| `total_rain_24h` | Общее количество дождя за 24 часа (в мм) |
| `total_showers_24h` | Общее количество ливней за 24 часа (в мм) |
| `total_snowfall_24h` | Общее количество снегопада за 24 часа (в мм) |

### Средние значения за световой день
| Параметр | Описание |
|----------|----------|
| `avg_temperature_2m_daylight` | Средняя температура на высоте 2 метров за световой день (в °C) |
| `avg_relative_humidity_2m_daylight` | Средняя относительная влажность на высоте 2 метров за световой день (в %) |
| `avg_dew_point_2m_daylight` | Средняя точка росы на высоте 2 метров за световой день (в °C) |
| `avg_apparent_temperature_daylight` | Средняя кажущаяся температура за световой день (в °C) |
| `avg_temperature_80m_daylight` | Средняя температура на высоте 80 метров за световой день (в °C) |
| `avg_temperature_120m_daylight` | Средняя температура на высоте 120 метров за световой день (в °C) |
| `avg_wind_speed_80m_daylight` | Средняя скорость ветра на высоте 80 метров за световой день (в м/с) |
| `avg_visibility_daylight` | Средняя видимость за световой день (в метрах) |
| `total_rain_daylight` | Общее количество дождя за световой день (в мм) |
| `total_showers_daylight` | Общее количество ливней за световой день (в мм) |
| `total_snowfall_daylight` | Общее количество снегопада за световой день (в мм) |

### Преобразованные значения
| Параметр | Описание |
|----------|----------|
| `wind_speed_10m_m_per_s` | Скорость ветра на высоте 10 метров (в м/с) |
| `wind_speed_80m_m_per_s` | Скорость ветра на высоте 80 метров (в м/с) |
| `temperature_2m_celsius` | Температура на высоте 2 метров (в °C) |
| `apparent_temperature_celsius` | Кажущаяся температура (в °C) |
| `temperature_80m_celsius` | Температура на высоте 80 метров (в °C) |
| `temperature_120m_celsius` | Температура на высоте 120 метров (в °C) |
| `soil_temperature_0cm_celsius` | Температура почвы на глубине 0 см (в °C) |
| `soil_temperature_6cm_celsius` | Температура почвы на глубине 6 см (в °C) |
| `rain_mm` | Количество дождя (в мм) |
| `showers_mm` | Количество ливней (в мм) |
| `snowfall_mm` | Количество снегопада (в мм) |
| `daylight_hours` | Продолжительность светового дня (в часах) |
| `sunset_iso` | Время заката в формате ISO 8601 |
| `sunrise_iso` | Время восхода в формате ISO 8601 |